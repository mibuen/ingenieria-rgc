var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(n,e,o)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,i=(t,i)=>{for(var s in i||(i={}))e.call(i,s)&&a(t,s,i[s]);if(n)for(var s of n(i))o.call(i,s)&&a(t,s,i[s]);return t};!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver((t=>{for(const e of t)if("childList"===e.type)for(const t of e.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&n(t)})).observe(document,{childList:!0,subtree:!0})}function n(t){if(t.ep)return;t.ep=!0;const n=function(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?n.credentials="include":"anonymous"===t.crossorigin?n.credentials="omit":n.credentials="same-origin",n}(t);fetch(t.href,n)}}();const s=document.createElement("section");s.classList.add("flex","justify-center","mt-6");const r=document.querySelector("#root"),l=document.createElement("section");l.classList.add("grid","grid-cols-1","gap-2","mx-2","my-4","w-full","md:grid-cols-2","lg:grid-cols-4","pt-8");const d=document.querySelector("#root");var c=()=>(s.innerHTML=null,d.append(s));const p=document.querySelector("#root"),u=async(t,n,e)=>{const o=await t(n);return(await Promise.all(o.map((async t=>e(t))))).join("")},m=async(t,n)=>{const e=new FormData(t),o={};for(const i of e.keys())o[i]=e.get(i);const a=i(i({},o),n);return JSON.stringify(a)},v=document.querySelector("#root");const g={menuMobile:()=>{items.classList.contains("hidden")||items.classList.toggle("hidden")},empty:c,createForm:(t,n)=>{const e=new FormData;return Object.entries(t).forEach((([t,n])=>{e.append(t,n)})),e.append("Content-type",n.type),e.append("file",n),e},handleForm:m,Loader:()=>{const t=v.querySelector("#loader");return t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden"),t}},b=async t=>{try{const n=await fetch(t);return await n.json()}catch(n){console.log(n)}},y="http://0.0.0.0:3001",f={mainUrl:y,s3Post:`${y}/gets3post`,listado:`${y}/listado`,s3Post:`${y}/gets3post`,agregarFoto:`${y}/agregarfoto`,cotizacion:`${y}/cotizacion`,cotizaciones:`${y}/cotizaciones`,guardarProyecto:`${y}/proyecto`,proyectosEnCotRoute:`${y}/proyectos`,actualizaProyecto:`${y}/modificar`,saveData:async(t,n)=>{const e={method:"POST",headers:{"Content-Type":"application/json"},body:n};try{return await fetch(t,e)}catch(o){console.log(o)}},getData:b,addProjectsEnCot:async(t,n)=>{const{saveData:e,guardarProyecto:o}=f;for(let a=0;a<n;a++){console.log(`Proyecto: ${t}-${1+a}`);const n=JSON.stringify({cotizacionId:t,proyectoId:a+1}),i=await e(o,n);console.log(i)}},fotoToMongo:async t=>{const{agregarFoto:n}=f,{s3Fields:e,tipo:o}=t,[a,i]=e.split("/"),[s,r]=a.split("-"),l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cotizacionId:s,proyectoId:r,tipo:o,key:i})};return(await fetch(n,l)).json()},getS3SignedPost:async(t,n,e)=>{const{s3Post:o}=f,a={cotizacionId:t,proyectoId:n,key:e},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};return(await fetch(o,i)).json()}},h=async t=>`\n  <div class="px-2 bg-white border-2 border-indigo-300 rounded-lg">\n  <div class="flex justify-between my-4">\n  <div class="">\n  <span>Proyecto:</span>\n  <a class="text-indigo-700 text-sm py-1 rounded w-auto px-4 bg-indigo-200 hover:underline " href="#/proyecto"> ${t.cotizacionId}-${t.proyectoId}</a>\n  </div>\n  <p class="">Cliente: <span>${t.cliente}</span></p>\n  </div>\n    <div class="mt-2 space-y-2 border-t-2 border-indigo-100">\n      <div class="">\n      <p class="">Trabajo: <span>${t.trabajo}</span></p>\n      </div>\n      <div class="">\n        <p class="">Sitio: <span>${t.sitio}</span></p>\n        <p class="">Direccion: <span>${t.direccion}</span></p>\n      </div>\n      <div class="pt-2 border-t-2 border-indigo-100 md:flex md:justify-between">\n        <p class="">Supervisor: <span>${t.supervisor}</span></p>\n        <p class="">Status: <span>${t.status_proyecto}</span></p>\n      </div>\n      <div class="pt-2 border-t-2 border-indigo-100 md:flex md:justify-between">\n        <p class="">Inicio: <span>${t.inicio?new Intl.DateTimeFormat("en-US").format(new Date(t.inicio)):"NA"}\n\t\t\t\t</span></p>\n        <p class="">Terminado: <span>${t.terminado?new Intl.DateTimeFormat("en-US").format(new Date(t.terminado)):"NA"}</span></p>\n      </div>\n      \n      <div class="flex justify-between py-4 border-t-2 border-indigo-100">\n        <p class="">Vistas:<span class="ml-2">${t.vistas}</span></p>\n        <a data-cot="${t.cotizacionId}" data-prj="${t.proyectoId}"\n          class="flex items-center justify-center w-24 h-8 text-indigo-700 bg-indigo-200 rounded-2xl"\n          href="#/subir"\n          >ðŸ“¸</a>\n      </div>\n    </div>\n  </div>`,w=document.querySelector("#root");const x=document.querySelector("#root"),{empty:k,createForm:$,Loader:S}=g,{cotizacion:z,getData:C,guardarProyecto:j,saveData:I,proyectosEnCotizacion:L,addProjectsEnCot:P,actualizaProyecto:M}=f,T=document.querySelector("#root");const{handleForm:E,Loader:D}=g,{saveData:q,cotizacion:F}=f,O=async t=>`\n<div class="px-2 bg-white border-2 border-indigo-300 rounded-lg">\n\t<div class="flex justify-between my-4">\n\t\t<div class="">\n\t\t\t<span>Cotizacion:</span>\n\t\t\t<a\n\t\t\t\tclass="w-auto px-4 py-1 text-sm text-indigo-700 bg-indigo-200 rounded  hover:underline"\n\t\t\t\thref="#/cotizacion/x"\n\t\t\t>\n\t\t\t\t${t.cotizacionId}</a\n\t\t\t>\n\t\t</div>\n\t\t<p class="">Cliente: <span>${t.cliente}</span></p>\n\t</div>\n\t<div class="mt-2 space-y-2 border-t-2 border-indigo-100">\n\t\t<div class="">\n\t\t\t<p class="">Trabajo: <span>${t.trabajo}</span></p>\n\t\t</div>\n\t\t<div class="md:justify-between pt-2 border-t-2 border-indigo-100 md:flex">\n\t\t\t<p class="">Cotizo: <span>${t.quien_cotiza}</span></p>\n\t\t\t<p class="">Status: <span>${t.statusCotizacion}</span></p>\n\t\t</div>\n\t\t<div class="md:justify-between pt-2 border-t-2 border-indigo-100 md:flex">\n\t\t\t<p class="">Emitida: <span>${new Intl.DateTimeFormat("en-US").format(new Date(t.emision))}</span></p>\n\t\t\t<p class="">Monto$: <span>${t.monto}</span></p>\n\t\t\t\n\t\t</div>\n\t\t<div class="md:justify-between pt-2 border-t-2 border-indigo-100 md:flex">\n\t\t<p class="">Pedido: <span>${t.pedido}</span></p>\n\t\t\t<p class="">Fecha: <span>${t.resuelta?new Intl.DateTimeFormat("en-US").format(new Date(t.resuelta)):"NA"}</span></p>\n\t\t</div>\n\n\t\t<div class="flex justify-between py-4 border-t-2 border-indigo-100">\n\t\t\t<p class="">Sitios:<span class="ml-2">${t.sitios}</span></p>\n\t\t\t<a\n\t\t\t\tdata-cotid="${t.cotizacionId}"\n\t\t\t\tdata-sitios="${t.sitios}" \n\t\t\t\tclass="flex items-center justify-center w-24 h-8 text-indigo-700 bg-indigo-200  rounded-2xl"\n\t\t\t\thref="#/agregar"\n\t\t\t\t>â†’Proyectos</a\n\t\t\t>\n\t\t</div>\n\t</div>\n</div>\n`,N=document.querySelector("#root"),{cotizaciones:H}=f,{getData:B,proyectosEnCotRoute:A}=f,G={home:()=>(s.innerHTML='<div class="w-2/3 px-4 pb-8 my-12 bg-white rounded-lg">\n\t<h1 class="text-red-700">This is Home</h1>\n</div>\n',r.append(s)),ProyectosNuevos:async()=>{const{$Content:t,$Grid:n,divForTittle:e,proyectosEnCotizacion:o}=G,a=localStorage.getItem("cotid"),i=parseInt(localStorage.getItem("sitios"),10),{cotizacionId:s,cliente:r,trabajo:l}=await C(`${z}/${a}`);console.log("Title",s,r,l);const d=await o(a);console.log("length",d.length),d.length!==i&&await P(a,i);const c=(await o(a)).map((t=>{return`<div\nclass="w-full px-4 pb-8 mt-4 bg-white border-2 border-indigo-400 rounded-lg"\n>\n<form id="pryForm" class="w-full space-y-3">\n  <input\n    class="hidden"\n    type="text"\n    name="cotizacionId"\n    id="cotizacionId"\n    readonly\n  />\n  <div id="cotizacionId" class="hidden">${(n=t).cotizacionId}</div>\n\n  <div  class=" text-center py-2 border border-gray-400 rounded-lg w-full bg-indigo-400">Proyecto Num.:<span id="proyectoId">${n.proyectoId}</span></div>\n\n\n  <div>\n    <label class="lab" for="sitio">Sitio</label>\n    <input type="text" name="sitio" value="${n.sitio}"/>\n  </div>\n\n  <div>\n    <label class="lab" for="direccion">Direccion</label>\n    <input type="text" name="direccion" value="${n.direccion}"/>\n  </div>\n\n  <div class="lab">\n    <label for="status" class="block">Status</label>\n    <select type="text" name="status" name="status"value="${n.status}">\n      <option value="Pendiente">Pendiente</option>\n      <option value="Activo">Activo</option>\n      <option value="terminado">Terminado</option>\n      <option value="terminado">Facturado</option>\n      <option value="cancelado">Cancelado</option>\n    </select>\n  </div>\n  <div>\n    <label class="lab" for="supervisor">Supervisor</label>\n    <input type="text" name="supervisor" value="${n.supervisor}"/>\n  </div>\n  <div>\n    <label class="lab" for="inicio">Inicio</label>\n    <input type="datetime-local" name="inicio" value="${n.inicio?n.inicio:""}"/>\n  </div>\n  <div>\n    <label class="lab" for="terminado">Terminado</label>\n    <input type="datetime-local" name="terminado" value="${n.terminado?n.terminado:""}" />\n  </div>\n  <div class="flex justify-between pt-8">\n    <button\n      type=""\n      class="w-12 h-12 text-orange-200 transform bg-orange-500 rounded-full  md:w-2/5 md:block md:rounded-xl hover:scale-y-105 ring-orange-300 ring-2"\n    >\n      <span class="hidden md:inline-block">Cancelar</span\n      ><svg\n        xmlns="http://www.w3.org/2000/svg"\n        class="inline w-6 h-6 md:ml-6"\n        fill="none"\n        viewBox="0 0 24 24"\n        stroke="currentColor"\n      >\n        <path\n          stroke-linecap="round"\n          stroke-linejoin="round"\n          stroke-width="2"\n          d="M6 18L18 6M6 6l12 12"\n        />\n      </svg>\n    </button>\n    <button\n      id="btnPry"\n      class="w-12 h-12 text-green-200 transform bg-green-500 rounded-full  md:w-2/5 md:block md:rounded-xl hover:scale-y-105 ring-green-300 ring-2"\n    >\n      <span class="hidden md:inline-block">Guardar</span\n      ><svg\n        xmlns="http://www.w3.org/2000/svg"\n        class="inline w-6 h-6 md:ml-6"\n        fill="none"\n        viewBox="0 0 24 24"\n        stroke="currentColor"\n      >\n        <path\n          stroke-linecap="round"\n          stroke-linejoin="round"\n          stroke-width="2"\n          d="M5 13l4 4L19 7"\n        />\n      </svg>\n    </button>\n  </div>\n</form>\n</div>`;var n})),p=e(`Cot: ${s} - ${r} - ${l}`);t.append(p),n.innerHTML=c.join(""),t.append(n),T.append(t),n.addEventListener("submit",(async t=>{if(t.preventDefault(),!t.target.matches("form"))return;console.log(t.target);const n=t.target,e=n.querySelector("#proyectoId").innerText,o={cotizacionId:s,proyectoId:e},a=await m(n,o);await I(M,a)}))},$Content:s,$Grid:l,header:()=>{p.innerHTML='<div\n\tid="loader"\n\tclass="fixed hidden w-20 h-20 bg-indigo-400 animate-spin inset-1/2"\n></div>\n<header\n\tclass="fixed inset-x-0 top-0 text-base text-indigo-200 bg-indigo-700 h-18"\n>\n\t<nav class="px-4 py-4">\n\t\t\x3c!-- Logo --\x3e\n\t\t<div class="flex items-center justify-between">\n\t\t\t<a href="#/home" class="flex">\n\t\t\t\t<svg\n\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\tclass="w-6 h-6"\n\t\t\t\t\tfill="none"\n\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\tstroke="currentColor"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\t\tstroke-width="2"\n\t\t\t\t\t\td="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"\n\t\t\t\t\t/>\n\t\t\t\t\t<path\n\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\t\tstroke-width="2"\n\t\t\t\t\t\td="M15 12a3 3 0 11-6 0 3 3 0 016 0z"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t\t<span class="ml-1 font-bold">RGC Ingenieria</span></a\n\t\t\t>\n\t\t\t\x3c!-- Mobile HAMBURGER Menu --\x3e\n\t\t\t<div id="mobile" class="flex flex-initial">\n\t\t\t\t<button class="border border-indigo-200 rounded-lg">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t\tclass="w-8 h-8"\n\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\t\tstroke="currentColor"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\t\t\tstroke-width="2"\n\t\t\t\t\t\t\td="M4 6h16M4 12h16M4 18h16"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t\x3c!--END HAmburgerr  --\x3e\n\t\t\t</div>\n\t\t</div>\n\t</nav>\n\t\x3c!-- <div class="absolute w-full border-2 border-black">\n\t\t<h4 class="text-2xl font-bold text-center text-red-600">Cotizaciones</h4>\n\t</div> --\x3e\n</header>\n\n\x3c!-- primary nav --\x3e\n<div class="flex justify-end w-auto">\n\t<div id="items" class="hidden px-2 pt-4 mt-8 text-center bg-indigo-700">\n\t\t<div class="flex flex-col mb-2 space-y-1 bg-indigo-100 rounded-lg">\n\t\t\t<h4 class="mx-2 italic">Cotizaciones</h4>\n\t\t\t<a href="#/cotizar" class="link">Nueva</a>\n\t\t\t<a href="#/cotizaciones" class="pb-2 link"> Lista</a>\n\t\t</div>\n\n\t\t<div class="flex flex-col mb-2 space-y-1 bg-indigo-100 rounded-lg">\n\t\t\t<h4 class="">Proyectos</h4>\n\t\t\t\x3c!-- <a href="#/agregar" class="link">Nuevo</a> --\x3e\n\t\t\t\x3c!-- <a href="#/listado" class="link"> Lista</a> --\x3e\n\t\t\t<a href="#/reporte" class="link">Reporte</a>\n\t\t</div>\n\t\t<div class="flex flex-col mb-2 space-y-1 bg-indigo-100 rounded-lg">\n\t\t\t<a href="#/salir" class="link">Salir</a>\n\t\t</div>\n\t</div>\n</div>\n';const t=p.querySelector("#mobile"),n=p.querySelector("#items");return t.addEventListener("click",(()=>{c(),n.classList.toggle("hidden")})),p},listado:async()=>{const{listado:t,getData:n}=f,{Loader:e}=g,{$Content:o,$Grid:a}=G;e(),a.innerHTML=await u(n,t,h),o.append(a),w.append(o),e(),a.addEventListener("click",(t=>!!t.target.matches("[data-cot]")&&(localStorage.setItem("cot",t.target.dataset.cot),localStorage.setItem("prj",t.target.dataset.prj))))},subirFoto:()=>{const{$Content:t}=G,{getS3SignedPost:n,fotoToMongo:e}=f;t.innerHTML='<div class="container mx-auto my-12 md:w-2/3">\n\t<form class="p-4 mx-2 space-y-12 bg-white rounded-lg">\n\t\t<h4 class="text-center">Captura de Fotos Inicio</h4>\n\t\t\x3c!-- ID Proyecto --\x3e\n\t\t<div class="flex justify-between">\n\t\t\t<div class="w-1/3">\n\t\t\t\t<label class="lab" for="cotizacionId">Cotizacion Id</label>\n\t\t\t\t<div class="mt-1">\n\t\t\t\t\t<input type="text" id="cotizacionId" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="w-1/3">\n\t\t\t\t<label class="lab" for="proyectoId">Proyecto Id</label>\n\t\t\t\t<div class="mt-1">\n\t\t\t\t\t<input type="text" id="proyectoId" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<input type="text" id="tipo" value="inicio" class="hidden" />\n\t\t</div>\n\n\t\t\x3c!-- ==================== --\x3e\n\t\t\x3c!-- foto name --\x3e\n\t\t<div id="foto-name" class="border-b-2 border-indigo-100"></div>\n\t\t\x3c!-- <fieldset id="tipo" class="flex space-x-10 space-y-2 border-b">\n\t\t\t<legend>Condicion:</legend>\n\t\t\t<input type="radio" name="condicion" value="inicio" />\n\t\t\t<label for="inicio">Inicial</label>\n\t\t\t<input type="radio" name="condicion" value="final" />\n\t\t\t<label for="final">Final</label>\n\t\t</fieldset> --\x3e\n\t\t\x3c!-- Tomar foto --\x3e\n\n\t\t<div class="flex justify-between">\n\t\t\t<label\n\t\t\t\tfor="tomar"\n\t\t\t\tclass="w-12 h-12 pt-3 text-center text-yellow-800 transform bg-yellow-200 rounded-full cursor-pointer  md:px-2 md:w-auto md:block md:rounded-xl hover:scale-y-105 ring-yellow-400 ring-2"\n\t\t\t\t><span class="hidden md:inline-block">Tomar Foto</span\n\t\t\t\t><span\n\t\t\t\t\t><svg\n\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t\tclass="inline-block w-6 h-6 md:ml-12"\n\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\t\tstroke="currentColor"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\t\t\tstroke-width="2"\n\t\t\t\t\t\t\td="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"\n\t\t\t\t\t\t/></svg\n\t\t\t\t></span>\n\t\t\t</label>\n\t\t\t<input class="hidden" type="file" name="" id="tomar" />\n\t\t\t\x3c!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++End Input file +++++++++++++--\x3e\n\n\t\t\t\x3c!-- upload Buttotn --\x3e\n\t\t\t<button\n\t\t\t\tid="subir"\n\t\t\t\tclass="w-12 h-12 text-center text-indigo-800 transform bg-purple-200 rounded-full  md:w-1/3 md:block md:rounded-xl hover:scale-y-105 ring-indigo-400 ring-2"\n\t\t\t>\n\t\t\t\t<span class="hidden md:inline-block">Subir</span\n\t\t\t\t><svg\n\t\t\t\t\tclass="inline-block w-6 h-6 md:ml-12"\n\t\t\t\t\tfill="none"\n\t\t\t\t\tstroke="currentColor"\n\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\t\tstroke-width="2"\n\t\t\t\t\t\td="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"\n\t\t\t\t\t></path>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t\t\x3c!-- ++++++++end upload button++++++++ --\x3e\n\t\t</div>\n\t</form>\n</div>\n';const o=x.querySelector("#tomar"),a=x.querySelector("#subir"),i=x.querySelector("#foto-name"),s=t.querySelector("#proyectoId"),r=t.querySelector("#cotizacionId"),l=t.querySelector("#tipo").value;s.value=localStorage.getItem("prj"),r.value=localStorage.getItem("cot"),o.addEventListener("change",(()=>{i.textContent=o.files[0].name})),a.addEventListener("click",(async t=>{t.preventDefault(),S();const a=o.files[0],{name:d}=o.files[0],{url:c,fields:p}=await n(r.value,s.value,d);await fetch(c,{method:"POST",body:$(p,a)});const u={s3Fields:p.key,tipo:l};await e(u),i.textContent="foto exitosa",S()}))},notFound:()=>{const t=document.querySelector("#root");return s.innerHTML='<div class="w-2/3 px-4 pb-8 my-12 bg-white rounded-lg">\n\t<h1 class="text-red-700">404: not found</h1>\n</div>\n',t.append(s)},rawList:u,crearCotizacion:()=>{const t=document.querySelector("#root"),{$Content:n}=G;n.innerHTML='<div class="w-full px-4 pb-8 my-12 bg-white rounded-lg sm:w-1/2">\n\t<h2 class="my-4 text-2xl text-center">Agregar Cotizacion</h2>\n\t<form id="cotizacion" class="space-y-4">\n\t\t<div>\n\t\t\t<label class="lab" for="cliente">Cliente:</label>\n\t\t\t<input type="text" id="cliente" name="cliente" class="" />\n\t\t</div>\n\t\t<div>\n\t\t\t<label class="lab" for="trabajo">Descripcion del Trabajo:</label>\n\t\t\t<input type="text" id="trabajo" name="trabajo" class="" />\n\t\t</div>\n\t\t<div class="lab">\n\t\t\t<label for="statusCotizacion" class="block">Status</label>\n\t\t\t<select\n\t\t\t\ttype="text"\n\t\t\t\tname="statusCotizacion"\n\t\t\t\tid="statusCotizacion"\n\t\t\t\tclass=""\n\t\t\t>\n\t\t\t\t<option value="presentada">Pendiente</option>\n\t\t\t\t<option value="ganada">Ganada</option>\n\t\t\t\t<option value="perdida">Perdida</option>\n\t\t\t\t<option value="cancelada">Cancelada</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div>\n\t\t\t<label class="lab" for="quien_cotiza">Preparado por:</label>\n\t\t\t<input type="text" id="quien_cotiza" name="quien_cotiza" class="" />\n\t\t</div>\n\t\t<div>\n\t\t\t<label class="lab" for="monto">Monto Cotizado $:</label>\n\t\t\t<input type="number" id="monto" name="monto" class="" />\n\t\t</div>\n\t\t<div>\n\t\t\t<label class="lab" for="emision">Presentada a Cliente:</label>\n\t\t\t<input type="datetime-local" id="emision" name="emision" class="" />\n\t\t</div>\n\t\t<div>\n\t\t\t<label class="lab" for="sitios">Numero de Sitios:</label>\n\t\t\t<input type="text" id="sitios" name="sitios" class="" />\n\t\t</div>\n\t\t<div>\n\t\t\t<label class="lab" for="pedido">Pedido de el Cliente:</label>\n\t\t\t<input type="text" id="pedido" name="pedido" class="" />\n\t\t</div>\n\t\t<div>\n\t\t\t<label class="lab" for="resuelta">Fecha Resolucion:</label>\n\t\t\t<input type="datetime-local" id="resuelta" name="resuelta" class="" />\n\t\t</div>\n\n\t\t\x3c!--++++++++++++++ Botones+++++++++++++++++++++ --\x3e\n\t\t<div class="flex justify-between pt-8">\n\t\t\t<button\n\t\t\t\tid="cancel"\n\t\t\t\ttype=""\n\t\t\t\tclass="\n\t\t\t\t\tw-12\n\t\t\t\t\th-12\n\t\t\t\t\ttext-orange-200\n\t\t\t\t\ttransform\n\t\t\t\t\tbg-orange-500\n\t\t\t\t\trounded-full\n\t\t\t\t\tmd:w-2/5 md:block md:rounded-xl\n\t\t\t\t\thover:scale-y-105\n\t\t\t\t\tring-orange-300 ring-2\n\t\t\t\t"\n\t\t\t>\n\t\t\t\t<span class="hidden md:inline-block">Cancelar</span\n\t\t\t\t><svg\n\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\tclass="inline w-6 h-6 md:ml-6"\n\t\t\t\t\tfill="none"\n\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\tstroke="currentColor"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\t\tstroke-width="2"\n\t\t\t\t\t\td="M6 18L18 6M6 6l12 12"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tid="save"\n\t\t\t\tclass="\n\t\t\t\t\tw-12\n\t\t\t\t\th-12\n\t\t\t\t\ttext-green-200\n\t\t\t\t\ttransform\n\t\t\t\t\tbg-green-500\n\t\t\t\t\trounded-full\n\t\t\t\t\tmd:w-2/5 md:block md:rounded-xl\n\t\t\t\t\thover:scale-y-105\n\t\t\t\t\tring-green-300 ring-2\n\t\t\t\t"\n\t\t\t>\n\t\t\t\t<span class="hidden md:inline-block">Guardar</span\n\t\t\t\t><svg\n\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\tclass="inline w-6 h-6 md:ml-6"\n\t\t\t\t\tfill="none"\n\t\t\t\t\tviewBox="0 0 24 24"\n\t\t\t\t\tstroke="currentColor"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\tstroke-linejoin="round"\n\t\t\t\t\t\tstroke-width="2"\n\t\t\t\t\t\td="M5 13l4 4L19 7"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t</form>\n</div>\n';return n.querySelector("#save").addEventListener("click",(async t=>{t.preventDefault(),D();const e=n.querySelector("#cotizacion");try{const t=await E(e);if(!(await q(F,t)).ok)throw Error("Error al subir cotizacion");return D(),e.reset()}catch(o){console.log(o)}})),t.append(n)},listaCotizaciones:async()=>{const{Loader:t}=g,{$Content:n,$Grid:e}=G;t(),e.innerHTML=await u(b,H,O),n.append(e),N.append(n),t(),e.addEventListener("click",(t=>!!t.target.matches("[data-cotid]")&&(localStorage.setItem("sitios",t.target.dataset.sitios),localStorage.setItem("cotid",t.target.dataset.cotid))))},divForTittle:t=>{const n=document.createElement("div");return n.classList.add("fixed","w-full","h-10","pt-2","text-sm","font-bold","text-center","text-red-600","inset-y-16"),n.innerHTML=`<h4>${t}</h4>`,n},proyectosEnCotizacion:async t=>B(`${A}/${t}`)},{menuMobile:R,empty:U}=g,_=async t=>{const{home:n,listado:e,subirFoto:o,ProyectosNuevos:a,notFound:i,crearCotizacion:s,listaCotizaciones:r}=G;if(void 0===t||"#"===t||"#/"===t||"#/home"===t)return n();switch(R(),U(),t){case"#/agregar":return a();case"#/listado":return await e();case"#/subir":return o();case"#/cotizar":return s();case"#/cotizaciones":return r();case"#/salir":return i();default:return console.log("te chingas"),i()}};G.header(),document.addEventListener("DOMContentLoaded",(()=>(console.log("DOM"),_()))),window.addEventListener("load",(()=>(console.log("window.load event"),window.location.hash="#/"))),window.addEventListener("hashchange",(()=>_(window.location.hash)));
